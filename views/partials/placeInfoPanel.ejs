<!-- üß≠ PANEL CHI TI·∫æT ƒê·ªäA ƒêI·ªÇM -->
<div id="place-info-panel" 
     style="position: fixed; top: 0; right: -420px; width: 400px; height: 100vh; background: #fff; box-shadow: -4px 0 12px rgba(0,0,0,0.15); 
            transition: right 0.35s ease; z-index: 9999; overflow-y: auto; padding: 16px;">
  <button id="close-info-panel" 
          style="position: absolute; top: 10px; right: 12px; background: none; border: none; font-size: 1.6em; cursor: pointer;">
    √ó
  </button>

  <div id="place-info-content" style="margin-top: 36px;">
    <p style="color: #777;">Ch·ªçn m·ªôt ƒë·ªãa ƒëi·ªÉm tr√™n b·∫£n ƒë·ªì ƒë·ªÉ xem th√¥ng tin chi ti·∫øt.</p>
  </div>
</div>

<script>
  // ====== H√ÄM ƒêI·ªÄU KHI·ªÇN PANEL ======
  window.showPlaceInfoPanel = function (htmlContent) {
    const panel = document.getElementById('place-info-panel');
    const content = document.getElementById('place-info-content');
    if (!panel || !content) return;
    content.innerHTML = htmlContent;
    panel.style.right = '0';
  };

  window.closePlaceInfoPanel = function () {
    const panel = document.getElementById('place-info-panel');
    if (panel) panel.style.right = '-420px';
  };

  document.getElementById('close-info-panel')?.addEventListener('click', closePlaceInfoPanel);

  // T√πy ch·ªçn: click ra ngo√†i ƒë·ªÉ ƒë√≥ng panel
  document.addEventListener('click', function (e) {
    const panel = document.getElementById('place-info-panel');
    if (!panel) return;
    if (panel.style.right === '0px' && !panel.contains(e.target) && !e.target.closest('.leaflet-marker-icon')) {
      closePlaceInfoPanel();
    }
  });
</script>
